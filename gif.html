<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="gif.css">
        <link rel="icon" type="image/jpg" href="logo.png">
        <title>ChatMagician - GIF Creator</title>
    </head>
    <body>
        <!-- Navigation icons -->
        <div class="nav_sidebar">
            <a href="index.html" class="nav_icon" title="Edytor tekstu">
                <span>üìù</span>
                <small>Tekst</small>
            </a>
            <a href="gif.html" class="nav_icon active" title="Kreator GIF">
                <span>üéûÔ∏è</span>
                <small>GIF</small>
            </a>
        </div>

        <div class="main gif_main">
            <div id="gif_editor">
                <center>
                    <h2 class="gif_title">üéûÔ∏è Kreator GIF</h2>
                    
                    <div id="gif_settings">
                        <div class="setting_row">
                            <label for="gif_fps">FPS:</label>
                            <input type="number" id="gif_fps" min="1" max="60" value="10">
                        </div>
                        <div class="setting_row">
                            <label for="gif_width">Szeroko≈õƒá:</label>
                            <input type="number" id="gif_width" min="50" max="2000" value="400">
                        </div>
                        <div class="setting_row">
                            <label for="gif_height">Wysoko≈õƒá:</label>
                            <input type="number" id="gif_height" min="50" max="2000" value="300">
                        </div>
                        <div class="setting_row">
                            <label for="gif_quality">Jako≈õƒá:</label>
                            <input type="range" id="gif_quality" min="1" max="20" value="10">
                            <span id="gif_quality_value">10</span>
                        </div>
                        <div class="setting_row checkbox_row">
                            <label>
                                <input type="checkbox" id="gif_loop" checked>
                                Zapƒôtlenie
                            </label>
                        </div>
                    </div>

                    <div id="frames_container">
                        <div class="frames_header">
                            <h3>Klatki</h3>
                            <div class="frames_actions">
                                <button id="add_frame_btn" class="action_btn">+ Dodaj obrazy</button>
                                <button id="add_video_btn" class="action_btn video_btn">üé¨ Dodaj wideo</button>
                                <button id="clear_frames_btn" class="action_btn danger">Wyczy≈õƒá</button>
                            </div>
                        </div>
                        <input type="file" id="frame_input" accept="image/*" multiple style="display:none;">
                        <input type="file" id="video_input" accept="video/mp4,video/webm,video/ogg,video/*" style="display:none;">
                        
                        <!-- Video extraction settings -->
                        <div id="video_settings" style="display:none;">
                            <div class="video_settings_header">
                                <span>üé¨ Ustawienia ekstrakcji wideo</span>
                                <button id="cancel_video_btn" class="action_btn small">Anuluj</button>
                            </div>
                            <div class="video_preview_row">
                                <video id="video_preview" controls></video>
                            </div>
                            <div class="video_settings_row">
                                <label>PoczƒÖtek (s):</label>
                                <input type="number" id="video_start" min="0" step="0.1" value="0">
                                <label>Koniec (s):</label>
                                <input type="number" id="video_end" min="0" step="0.1" value="5">
                            </div>
                            <div class="video_settings_row">
                                <label>Klatki na sekundƒô:</label>
                                <input type="number" id="video_extract_fps" min="1" max="30" value="10">
                                <span id="estimated_frames">~50 klatek</span>
                            </div>
                            <div class="video_settings_row">
                                <button id="extract_frames_btn" class="action_btn primary">üì∑ Wyodrƒôbnij klatki</button>
                            </div>
                            <div id="extraction_progress" style="display:none;">
                                <div class="progress_bar"><div class="progress_fill" id="extraction_fill"></div></div>
                                <span id="extraction_text">Ekstrakcja: 0%</span>
                            </div>
                        </div>
                        
                        <div id="frames_list">
                            <div class="empty_frames">
                                <span>üì∑</span>
                                <p>Dodaj obrazy lub wideo, aby rozpoczƒÖƒá</p>
                                <small>PrzeciƒÖgnij i upu≈õƒá lub kliknij przyciski powy≈ºej</small>
                            </div>
                        </div>
                    </div>

                    <div id="preview_section">
                        <h3>PodglƒÖd</h3>
                        <div id="gif_preview_container">
                            <canvas id="gif_preview_canvas"></canvas>
                        </div>
                        <div id="preview_controls">
                            <button id="play_btn" class="control_btn">‚ñ∂Ô∏è Odtw√≥rz</button>
                            <button id="stop_btn" class="control_btn">‚èπÔ∏è Stop</button>
                            <span id="frame_counter">Klatka: 0 / 0</span>
                        </div>
                    </div>

                    <div id="gif_actions">
                        <button id="generate_gif_btn" class="primary_btn" disabled>üé¨ Generuj GIF</button>
                        <button id="download_gif_btn" class="primary_btn" disabled>‚¨áÔ∏è Pobierz GIF</button>
                    </div>

                    <div id="gif_output" style="display:none;">
                        <h3>Wygenerowany GIF</h3>
                        <img id="output_gif" src="" alt="Generated GIF">
                    </div>
                </center>
            </div>
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/gif.js/0.2.0/gif.js"></script>
        <script src="gif.js"></script>
    </body>
</html>
